<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ú–æ–±–∏–ª—å–Ω—ã–π Paint v1.0</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="toolbar">
    <div>
      <button id="brushBtn" data-tool="brush">üñåÔ∏è</button>
      <div class="tool-label">–ö–∏—Å—Ç—å</div>
    </div>
    <div>
      <button id="eraserBtn" data-tool="eraser">üßΩ</button>
      <div class="tool-label">–õ–∞—Å—Ç–∏–∫</div>
    </div>
    <div>
      <button id="fillBtn" data-tool="fill">üíß</button> <!-- –ò–∫–æ–Ω–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ -->
      <div class="tool-label">–ó–∞–ª–∏–≤–∫–∞</div>
    </div>
    <div>
      <button id="pickerBtn" data-tool="picker">üîç</button>
      <div class="tool-label">–ü–∏–ø–µ—Ç–∫–∞</div>
    </div>
    <div>
      <button id="shapeBtn" data-tool="shape">üî∑</button>
      <div class="tool-label">–§–∏–≥—É—Ä–∞</div>
    </div>
    <div>
      <button id="colorPickerBtn">
        <div class="color-circle" id="currentColorCircle" style="background-color: #000000;"></div>
      </button>
      <div class="tool-label">–¶–≤–µ—Ç</div>
    </div>
    <div>
      <button id="fillColorPickerBtn">
        <div class="color-circle" id="currentFillColorCircle" style="background-color: #ffffff;"></div>
      </button>
      <div class="tool-label">–¶–≤–µ—Ç 2</div>
    </div>
    <div>
      <button id="saveBtn">üíæ</button>
      <div class="tool-label">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</div>
    </div>
    <div>
      <button id="loadBtn">üìÇ</button>
      <div class="tool-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å</div>
    </div>
  </div>
  <canvas id="canvas"></canvas>
  <!-- Three-circle picker cursor in cursor form -->
  <div id="pickerCursor">
    <div class="picker-large"></div>
    <div class="picker-line-large-medium"></div>
    <div class="picker-medium"></div>
    <div class="picker-line-medium-small"></div>
    <div class="picker-small"></div>
  </div>
  <!-- Selection overlay -->
  <div id="selectionOverlay"></div>
  <!-- Moving selection preview -->
  <div id="movingPreview"></div>
  <!-- Shape preview canvas -->
  <canvas id="shapePreviewCanvas"></canvas>
  <!-- Move handle for selected area -->
  <div id="moveHandle">‚úã</div>
  <!-- Resize handles -->
  <div class="resize-handle resize-handle-nw" id="resizeHandleNW"></div>
  <div class="resize-handle resize-handle-ne" id="resizeHandleNE"></div>
  <div class="resize-handle resize-handle-sw" id="resizeHandleSW"></div>
  <div class="resize-handle resize-handle-se" id="resizeHandleSE"></div>
  <div class="resize-handle resize-handle-n" id="resizeHandleN"></div>
  <div class="resize-handle resize-handle-s" id="resizeHandleS"></div>
  <div class="resize-handle resize-handle-e" id="resizeHandleE"></div>
  <div class="resize-handle resize-handle-w" id="resizeHandleW"></div>
  <!-- Confirm paste button -->
  <button id="confirmPasteBtn">‚úì</button>
  <!-- Brush Settings Panel -->
  <div id="brushPanel">
    <div class="panel-header">
      <div class="panel-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∏—Å—Ç–∏</div>
      <button class="panel-close" id="closeBrushPanel">√ó</button>
    </div>
    <div class="panel-setting">
      <label class="panel-label">–†–∞–∑–º–µ—Ä:</label>
      <div style="display: flex; align-items: center;">
        <input type="range" id="brushSize" min="1" max="50" value="10" class="panel-input">
        <span class="brush-size-display" id="brushSizeDisplay">10</span>
      </div>
    </div>
    <div class="panel-setting">
      <label class="panel-label">–¢–∏–ø –∫–∏—Å—Ç–∏:</label>
      <select id="brushType" class="panel-input">
        <option value="solid">–°–ø–ª–æ—à–Ω–∞—è</option>
        <option value="dotted">–¢–æ—á–∫–∞–º–∏</option>
        <option value="spray">–°–ø—Ä–µ–π</option>
        <option value="pencil">–ö–∞—Ä–∞–Ω–¥–∞—à</option>
        <option value="star">–ó–≤–µ–∑–¥–∞</option>
        <option value="fountainPen">–ü–µ—Ä—å–µ–≤–∞—è —Ä—É—á–∫–∞</option>
      </select>
    </div>
    <div class="panel-setting" id="dotIntervalSetting">
      <label class="panel-label">–ò–Ω—Ç–µ—Ä–≤–∞–ª —Ç–æ—á–µ–∫ (px):</label>
      <div style="display: flex; align-items: center;">
        <input type="range" id="dotInterval" min="1" max="50" value="10" class="panel-input">
        <span class="distance-interval-display" id="dotIntervalDisplay">10</span>
      </div>
    </div>
	<div class="panel-setting">
    <label class="panel-label">–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:</label>
    <div style="display: flex; align-items: center;">
        <input type="range" id="brushOpacity" min="0" max="100" value="100" class="panel-input">
        <span id="opacityDisplay">100%</span>
    </div>
</div>
<div class="panel-setting">
    <label class="panel-label">–ú—è–≥–∫–æ—Å—Ç—å (—Ä–∞–∑–º—ã—Ç–∏–µ):</label>
    <div style="display: flex; align-items: center;">
        <input type="range" id="brushBlur" min="0" max="20" value="0" class="panel-input">
        <span id="blurDisplay">0px</span>
    </div>
</div>
  </div>
<!-- Eraser Settings Panel -->
  <div id="eraserPanel">
    <div class="panel-header">
      <div class="panel-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∞—Å—Ç–∏–∫–∞</div>
      <button class="panel-close" id="closeEraserPanel">√ó</button>
    </div>
    <div class="panel-setting">
      <label class="panel-label">–†–∞–∑–º–µ—Ä:</label>
      <div style="display: flex; align-items: center;">
        <input type="range" id="eraserSize" min="1" max="50" value="10" class="panel-input">
        <span class="eraser-size-display" id="eraserSizeDisplay">10</span>
      </div>
    </div>
  </div>
  <!-- Fill Settings Panel -->
  <div id="fillPanel">
    <div class="panel-header">
      <div class="panel-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–ª–∏–≤–∫–∏</div>
      <button class="panel-close" id="closeFillPanel">√ó</button>
    </div>
    <div class="panel-setting">
      <label class="panel-label">–ì–ª—É–±–∏–Ω–∞ –∑–∞–ª–∏–≤–∫–∏:</label>
      <div style="display: flex; align-items: center;">
        <input type="range" id="fillTolerance" min="0" max="100" value="1" class="panel-input">
        <span class="tolerance-display" id="toleranceDisplay">1</span>
      </div>
    </div>
    <div class="panel-setting">
      <label class="panel-checkbox-label">
        <input type="checkbox" id="contiguousFill" class="panel-checkbox" checked>
        –°–º–µ–∂–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏
      </label>
    </div>
  </div>
  <!-- Shape Settings Panel -->
  <div id="shapePanel">
    <div class="panel-header">
      <div class="panel-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–≥—É—Ä—ã</div>
      <button class="panel-close" id="closeShapePanel">√ó</button>
    </div>
    <div class="panel-setting">
      <label class="panel-label">–¢–∏–ø —Ñ–∏–≥—É—Ä—ã:</label>
      <select id="shapeType" class="panel-input">
        <option value="rectangle">–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫</option>
        <option value="square">–ö–≤–∞–¥—Ä–∞—Ç</option>
        <option value="oval">–û–≤–∞–ª</option>
        <option value="circle">–ö—Ä—É–≥</option>
        <option value="line">–õ–∏–Ω–∏—è</option> <!-- –î–æ–±–∞–≤–ª–µ–Ω —Ç–∏–ø —Ñ–∏–≥—É—Ä—ã "–õ–∏–Ω–∏—è" -->
      </select>
    </div>
    <div class="panel-setting">
      <label class="panel-label">–°—Ç–∏–ª—å –∫–æ–Ω—Ç—É—Ä–∞:</label>
      <select id="shapeBorderStyle" class="panel-input">
        <option value="solid">–°–ø–ª–æ—à–Ω–∞—è</option>
        <option value="dashed">–ü—É–Ω–∫—Ç–∏—Ä–Ω–∞—è</option>
      </select>
    </div>
    <div class="panel-setting">
      <label class="panel-label">–¢–æ–ª—â–∏–Ω–∞ –∫–æ–Ω—Ç—É—Ä–∞:</label>
      <div style="display: flex; align-items: center;">
        <input type="range" id="shapeBorderWidth" min="1" max="20" value="2" class="panel-input">
        <span class="border-width-display" id="shapeBorderWidthDisplay">2</span>
      </div>
    </div>
    <div class="panel-setting">
      <label class="panel-checkbox-label">
        <input type="checkbox" id="shapeFill" class="panel-checkbox" checked>
        –ó–∞–ª–∏–≤–∫–∞
      </label>
    </div>
  </div>
  <!-- Color Palette Modal -->
  <div id="colorPaletteModal">
    <div class="palette-content">
      <h2 class="palette-title" id="paletteTitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç</h2>
      <div class="color-grid" id="colorGrid">
        <!-- 16 standard colors -->
      </div>
      <button class="palette-close" id="paletteClose">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>
  <!-- Extended Color Picker -->
  <div id="extendedColorPicker">
    <div class="extended-palette-content">
      <h2 class="palette-title">–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞</h2>
      <canvas id="colorWheel" width="250" height="250"></canvas>
      <div class="selected-color-display" id="selectedColorDisplay" style="width: 60px; height: 60px; border-radius: 50%; margin: 10px auto; border: 3px solid #333; background-color: #000000;"></div>
      <div class="color-controls">
        <div class="color-control-group">
          <label class="color-control-label" for="saturationSlider">–ù–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å:</label>
          <input type="range" id="saturationSlider" min="0" max="100" value="100">
        </div>
        <div class="color-control-group">
          <label class="color-control-label" for="brightnessSlider">–Ø—Ä–∫–æ—Å—Ç—å:</label>
          <input type="range" id="brightnessSlider" min="0" max="100" value="50">
        </div>
      </div>
      <div class="palette-controls">
        <button class="palette-btn palette-select-btn" id="selectExtendedColor">‚úì –í—ã–±—Ä–∞—Ç—å</button>
        <button class="palette-btn palette-close-btn" id="closeExtendedPicker">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>
  <input type="file" id="fileInput" accept="image/*" style="display: none;">
    	<script src="main.js"></script>
		<script src="brushEffects.js"></script>
</body>
</html>